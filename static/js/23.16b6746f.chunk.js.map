{"version":3,"sources":["component/otp-input.js","route/sign/activate.js","library/request.js","component/button.js","library/helper.js"],"names":["isStyleObject","obj","SingleOtpInput","getClasses","classes","filter","c","join","input","this","props","focus","shouldAutoFocus","prevProps","select","separator","isLastChild","inputStyle","isDisabled","hasErrored","errorStyle","focusStyle","disabledStyle","isInputNum","value","rest","style","display","alignItems","autoComplete","Object","assign","width","textAlign","padding","className","type","maxLength","ref","disabled","PureComponent","OtpInput","state","activeInput","getOtpValue","toString","split","handleOtpChange","otp","onChange","isInputValueValid","isNaN","parseInt","numEn","trim","length","focusInput","numInputs","Math","max","min","setState","focusNextInput","focusPrevInput","changeCodeAtFocus","handleOnPaste","e","preventDefault","pastedData","clipboardData","getData","slice","pos","shift","handleOnChange","target","handleOnKeyDown","keyCode","key","handleOnInput","nativeEvent","data","inputType","renderInputs","inputs","i","push","onKeyDown","onInput","onPaste","onFocus","onBlur","containerStyle","Component","defaultProps","console","log","Activate","useStorage","session","setSetting","useHistory","useState","loading","setLoading","error","setError","code","setCode","src","require","alt","onSubmit","temp","res","_","isEmpty","validate","post","email","then","success","login","t","val","Alert","variant","show","href","onClick","name","password","referral","baseUrl","window","location","hostname","axiosBase","setup","axios","baseURL","timeout","validateStatus","cache","maxAge","get","path","opt","a","header","postMessage","notify","items","form","FormData","append","as","animation","size","children","undefined","returnModel","symbolMap","validateEmail","test","toMoney","amount","replace","query","param","vars","search","substring","pair"],"mappings":"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","file":"static/js/23.16b6746f.chunk.js","sourcesContent":["import React, { Component, PureComponent } from \"react\";\nimport { numEn } from \"library/helper\";\n\n// keyCode constants\nconst BACKSPACE = 8;\nconst LEFT_ARROW = 37;\nconst RIGHT_ARROW = 39;\nconst DELETE = 46;\nconst SPACEBAR = 32;\n\ntype Props = {\n  numInputs: number,\n  onChange: Function,\n  separator?: Object,\n  containerStyle?: Object,\n  inputStyle?: Object,\n  focusStyle?: Object,\n  isDisabled?: boolean,\n  disabledStyle?: Object,\n  hasErrored?: boolean,\n  errorStyle?: Object,\n  shouldAutoFocus?: boolean,\n  isInputNum?: boolean,\n  value?: string,\n};\n\ntype State = {\n  activeInput: number,\n  otp: string[],\n};\n\n// Doesn't really check if it's a style Object\n// Basic implementation to check if it's not a string\n// of classNames and is an Object\n// TODO: Better implementation\nconst isStyleObject = (obj) => typeof obj === \"object\";\n\nclass SingleOtpInput extends PureComponent<*> {\n  input: ?HTMLInputElement;\n\n  // Focus on first render\n  // Only when shouldAutoFocus is true\n  componentDidMount() {\n    const {\n      input,\n      props: { focus, shouldAutoFocus },\n    } = this;\n\n    if (input && focus && shouldAutoFocus) {\n      input.focus();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      input,\n      props: { focus },\n    } = this;\n\n    // Check if focusedInput changed\n    // Prevent calling function if input already in focus\n    if (prevProps.focus !== focus && input && focus) {\n      input.focus();\n      input.select();\n    }\n  }\n\n  getClasses = (...classes) =>\n    classes.filter((c) => !isStyleObject(c) && c !== false).join(\" \");\n\n  render() {\n    const {\n      separator,\n      isLastChild,\n      inputStyle,\n      focus,\n      isDisabled,\n      hasErrored,\n      errorStyle,\n      focusStyle,\n      disabledStyle,\n      shouldAutoFocus,\n      isInputNum,\n      value,\n      ...rest\n    } = this.props;\n\n    return (\n      <div style={{ display: \"flex\", alignItems: \"center\" }}>\n        <input\n          autoComplete=\"off\"\n          style={Object.assign(\n            { width: \"3rem\", textAlign: \"center\", padding: \".5rem\" },\n            isStyleObject(inputStyle) && inputStyle,\n            focus && isStyleObject(focusStyle) && focusStyle,\n            isDisabled && isStyleObject(disabledStyle) && disabledStyle,\n            hasErrored && isStyleObject(errorStyle) && errorStyle\n          )}\n          className={this.getClasses(\n            inputStyle,\n            focus && focusStyle,\n            isDisabled && disabledStyle,\n            hasErrored && errorStyle\n          )}\n          type={isInputNum ? \"tel\" : \"text\"}\n          maxLength=\"1\"\n          ref={(input) => {\n            this.input = input;\n          }}\n          disabled={isDisabled}\n          value={value ? value : \"\"}\n          {...rest}\n        />\n        {!isLastChild && separator}\n      </div>\n    );\n  }\n}\n\nclass OtpInput extends Component<Props, State> {\n  static defaultProps = {\n    numInputs: 4,\n    onChange: (otp: number): void => console.log(otp),\n    isDisabled: false,\n    shouldAutoFocus: true,\n    focus: true,\n    value: \"\",\n  };\n\n  state = {\n    activeInput: 0,\n  };\n\n  getOtpValue = () =>\n    this.props.value ? this.props.value.toString().split(\"\") : [];\n\n  // Helper to return OTP from input\n  handleOtpChange = (otp: string[]) => {\n    const { onChange } = this.props;\n    const otpValue = otp.join(\"\");\n\n    onChange(otpValue);\n  };\n\n  isInputValueValid = (value) => {\n    const isTypeValid = this.props.isInputNum\n      ? !isNaN(parseInt(numEn(value), 10))\n      : typeof value === \"string\";\n\n    return isTypeValid && value.trim().length === 1;\n  };\n\n  // Focus on input by index\n  focusInput = (input: number) => {\n    const { numInputs } = this.props;\n    const activeInput = Math.max(Math.min(numInputs - 1, input), 0);\n\n    this.setState({ activeInput });\n  };\n\n  // Focus on next input\n  focusNextInput = () => {\n    const { activeInput } = this.state;\n    this.focusInput(activeInput + 1);\n  };\n\n  // Focus on previous input\n  focusPrevInput = () => {\n    const { activeInput } = this.state;\n    this.focusInput(activeInput - 1);\n  };\n\n  // Change OTP value at focused input\n  changeCodeAtFocus = (value: string) => {\n    const { activeInput } = this.state;\n    const otp = this.getOtpValue();\n    otp[activeInput] = value[0];\n\n    this.handleOtpChange(otp);\n  };\n\n  // Handle pasted OTP\n  handleOnPaste = (e: Object) => {\n    e.preventDefault();\n    const { numInputs } = this.props;\n    const { activeInput } = this.state;\n    const otp = this.getOtpValue();\n\n    // Get pastedData in an array of max size (num of inputs - current position)\n    const pastedData = e.clipboardData\n      .getData(\"text/plain\")\n      .slice(0, numInputs - activeInput)\n      .split(\"\");\n\n    // Paste data from focused input onwards\n    for (let pos = 0; pos < numInputs; ++pos) {\n      if (pos >= activeInput && pastedData.length > 0) {\n        otp[pos] = pastedData.shift();\n      }\n    }\n\n    this.handleOtpChange(otp);\n  };\n\n  handleOnChange = (e: Object) => {\n    const { value } = e.target;\n    if (this.isInputValueValid(value)) {\n      this.changeCodeAtFocus(value);\n    }\n  };\n\n  // Handle cases of backspace, delete, left arrow, right arrow, space\n  handleOnKeyDown = (e: Object) => {\n    if (e.keyCode === BACKSPACE || e.key === \"Backspace\") {\n      e.preventDefault();\n      this.changeCodeAtFocus(\"\");\n      this.focusPrevInput();\n    } else if (e.keyCode === DELETE || e.key === \"Delete\") {\n      e.preventDefault();\n      this.changeCodeAtFocus(\"\");\n    } else if (e.keyCode === LEFT_ARROW || e.key === \"ArrowLeft\") {\n      e.preventDefault();\n      this.focusPrevInput();\n    } else if (e.keyCode === RIGHT_ARROW || e.key === \"ArrowRight\") {\n      e.preventDefault();\n      this.focusNextInput();\n    } else if (\n      e.keyCode === SPACEBAR ||\n      e.key === \" \" ||\n      e.key === \"Spacebar\" ||\n      e.key === \"Space\"\n    ) {\n      e.preventDefault();\n    }\n  };\n\n  // The content may not have changed, but some input took place hence change the focus\n  handleOnInput = (e: Object) => {\n    if (this.isInputValueValid(e.target.value)) {\n      this.focusNextInput();\n    } else {\n      // This is a workaround for dealing with keyCode \"229 Unidentified\" on Android.\n\n      if (!this.props.isInputNum) {\n        const { nativeEvent } = e;\n\n        if (\n          nativeEvent.data === null &&\n          nativeEvent.inputType === \"deleteContentBackward\"\n        ) {\n          e.preventDefault();\n          this.changeCodeAtFocus(\"\");\n          this.focusPrevInput();\n        }\n      }\n    }\n  };\n\n  renderInputs = () => {\n    const { activeInput } = this.state;\n    const {\n      numInputs,\n      inputStyle,\n      focusStyle,\n      separator,\n      isDisabled,\n      disabledStyle,\n      hasErrored,\n      errorStyle,\n      shouldAutoFocus,\n      isInputNum,\n    } = this.props;\n    const otp = this.getOtpValue();\n    const inputs = [];\n\n    for (let i = 0; i < numInputs; i++) {\n      inputs.push(\n        <SingleOtpInput\n          key={i}\n          focus={activeInput === i}\n          value={otp && otp[i]}\n          onChange={this.handleOnChange}\n          onKeyDown={this.handleOnKeyDown}\n          onInput={this.handleOnInput}\n          onPaste={this.handleOnPaste}\n          onFocus={(e) => {\n            this.setState({ activeInput: i });\n            e.target.select();\n          }}\n          onBlur={() => this.setState({ activeInput: -1 })}\n          separator={separator}\n          inputStyle={inputStyle}\n          focusStyle={focusStyle}\n          isLastChild={i === numInputs - 1}\n          isDisabled={isDisabled}\n          disabledStyle={disabledStyle}\n          hasErrored={hasErrored}\n          errorStyle={errorStyle}\n          shouldAutoFocus={shouldAutoFocus}\n          isInputNum={isInputNum}\n        />\n      );\n    }\n\n    return inputs;\n  };\n\n  render() {\n    const { containerStyle } = this.props;\n\n    return (\n      <div\n        style={Object.assign(\n          { display: \"flex\" },\n          isStyleObject(containerStyle) && containerStyle\n        )}\n        className={!isStyleObject(containerStyle) ? containerStyle : \"\"}\n      >\n        {this.renderInputs()}\n      </div>\n    );\n  }\n}\n\nexport default OtpInput;\n","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { t } from \"locales\";\r\nimport { post } from \"library/request\";\r\nimport _ from \"lodash\";\r\nimport OtpInput from \"component/otp-input\";\r\nimport Button from \"component/button\";\r\nimport { numEn } from \"library/helper\";\r\nimport useStorage from \"reducer\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nconst Activate = () => {\r\n  const { session, setSetting } = useStorage();\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [code, setCode] = useState(\"\");\r\n\r\n  const validate = () => {\r\n    const inputs = { code };\r\n    const temp = {};\r\n    if (code.length < 6) {\r\n      temp[\"code\"] = \"validation.min\";\r\n    }\r\n    const res = _.isEmpty(temp) ? null : temp[\"code\"];\r\n    setError(res);\r\n    return res;\r\n  };\r\n  const reSend = (e) => {\r\n    e.preventDefault();\r\n    const { name, email, password, referral } = session;\r\n    post(\"auth\", { name, email, password, referral }).then((data) => {\r\n      if (data.success) {\r\n      } else if (data.error) {\r\n      }\r\n    });\r\n  };\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (validate() == null) {\r\n      setLoading(true);\r\n      post(\"activate\", { email: session.email, code }).then((data) => {\r\n        setLoading(false);\r\n        if (data.success) {\r\n          setSetting({ login: data.success });\r\n        } else if (data.error) {\r\n          setError(data.error);\r\n        }\r\n      });\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex align-items-center auth px-0\">\r\n        <div className=\"row w-100 mx-0\">\r\n          <div className=\"col-md-7 col-lg-6 mx-auto box-max\">\r\n            <div className=\"auth-form-light  py-4 px-4 px-sm-5\">\r\n              <div className=\"brand-logo text-center\">\r\n                <img src={require(\"assets/images/logo.png\")} alt=\"logo\" />\r\n              </div>\r\n              {/* <h4>{t(\"code\")}</h4> */}\r\n              <form className=\"pt-3\" autoComplete=\"off\" onSubmit={onSubmit}>\r\n                <p>{t(\"codeSendedToEmail\")}</p>\r\n                <div className=\"mt-5 mb-5 dir-ltr align-content-center\">\r\n                  <OtpInput\r\n                    value={code}\r\n                    onChange={(val) => setCode(numEn(val))}\r\n                    numInputs={6}\r\n                    isInputNum={true}\r\n                    inputStyle={\"form-control\"}\r\n                    containerStyle={\"justify-content-center\"}\r\n                    separator={<span>-</span>}\r\n                  />\r\n                </div>\r\n                <Alert variant=\"danger\" show={!!error}>\r\n                  {t(error)}\r\n                </Alert>\r\n                <div className=\"mt-5\">\r\n                  <Button\r\n                    loading={loading}\r\n                    className=\"btn btn-block btn-info btn-lg font-weight-medium auth-form-btn\"\r\n                  >\r\n                    {t(\"activate\")}\r\n                  </Button>\r\n                </div>\r\n                <div className=\"text-center mt-4 font-weight-light\">\r\n                  {t(\"activateNotSended\")}{\" \"}\r\n                  <a href=\"#\" className=\"text-success\" onClick={reSend}>\r\n                    {t(\"reSend\")}\r\n                  </a>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Activate;\r\n","import axios from \"axios\";\r\nimport { setup } from \"axios-cache-adapter\";\r\nexport const baseUrl =\r\n  window.location.hostname === \"localhost\"\r\n    ? \"http://localhost:8000/api/\"\r\n    : \"https://stronghold.live/api/\";\r\nconst axiosBase = setup({\r\n  axios,\r\n  baseURL: baseUrl,\r\n  timeout: 5000,\r\n  validateStatus: function () {\r\n    return true;\r\n  },\r\n  cache: {\r\n    maxAge: 1000,\r\n  },\r\n});\r\n\r\nexport const get = async (path, opt) => {\r\n  let header = {};\r\n  try {\r\n    if (opt?.cache) {\r\n      header.cache = {\r\n        maxAge: 10 * 60 * 1000,\r\n      };\r\n    }\r\n    const res = await axiosBase.get(path, header);\r\n    const { data } = await res;\r\n    return data;\r\n  } catch (error) {\r\n    window.postMessage({ notify: [\"error\", \"try-later\"] }, \"*\");\r\n    return await 0;\r\n  }\r\n};\r\n\r\nexport const post = async (path, items, opt) => {\r\n  let header = {};\r\n  try {\r\n    if (opt?.cache) {\r\n      header.cache = {\r\n        maxAge: 10 * 60 * 1000,\r\n      };\r\n    }\r\n    let form = new FormData();\r\n    for (let key in items) {\r\n      form.append(key, items[key]);\r\n    }\r\n    const res = axiosBase.post(path, form, header);\r\n    const { data } = await res;\r\n    if (data?.login) {\r\n      window.postMessage({ login: true }, \"*\");\r\n    }\r\n    return data;\r\n  } catch (error) {\r\n    window.postMessage({ notify: [\"error\", \"try-later\"] }, \"*\");\r\n    return await 0;\r\n  }\r\n};\r\n\r\nexport default { get, post };\r\n","import React from 'react';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\nexport default function (props) {\r\n    return (\r\n        <button className={props.className} onClick={props?.onClick}>\r\n            {props.loading\r\n                ? <Spinner\r\n                    as=\"span\"\r\n                    animation=\"border\"\r\n                    size=\"sm\"\r\n                />\r\n                : props.children\r\n            }\r\n        </button>\r\n    )\r\n};\r\n\r\n","export function numEn(input) {\r\n  if (input == undefined) return;\r\n  var returnModel = \"\",\r\n    symbolMap = {\r\n      \"۱\": \"1\",\r\n      \"۲\": \"2\",\r\n      \"۳\": \"3\",\r\n      \"۴\": \"4\",\r\n      \"۵\": \"5\",\r\n      \"۶\": \"6\",\r\n      \"۷\": \"7\",\r\n      \"۸\": \"8\",\r\n      \"۹\": \"9\",\r\n      \"۰\": \"0\",\r\n    };\r\n  input = input.toString();\r\n  for (var i = 0; i < input.length; i++)\r\n    if (symbolMap[input[i]]) returnModel += symbolMap[input[i]];\r\n    else returnModel += input[i];\r\n  return returnModel;\r\n}\r\nexport const validateEmail = (email) => {\r\n  var re = /\\S+@\\S+\\.\\S+/;\r\n  return re.test(email);\r\n};\r\nexport const isArray = function (a) {\r\n  return Array.isArray(a);\r\n};\r\n\r\nexport const isObject = function (o) {\r\n  return o === Object(o) && !isArray(o) && typeof o !== \"function\";\r\n};\r\n\r\nexport function isIterable(variable) {\r\n  return isArray(variable) || isObject(variable);\r\n}\r\n\r\nexport function clone(arr) {\r\n  let newObj = arr instanceof Array ? [] : {};\r\n  for (let i in arr) {\r\n    if (i == \"clone\") continue;\r\n    if (arr[i] && typeof arr[i] == \"object\") {\r\n      newObj[i] = clone(arr[i]);\r\n    } else newObj[i] = arr[i];\r\n  }\r\n  return newObj;\r\n}\r\n\r\nexport function toMoney(amount) {\r\n  if (typeof amount == \"undefined\" || amount == \"null\") return \"\";\r\n  if (amount.length < 2) return amount + \"\";\r\n  return (\"\" + amount)\r\n    .replace(/,/g, \"\")\r\n    .replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\r\n}\r\nexport function toggle(collection, item) {\r\n  let temp = clone(collection);\r\n  var idx = temp.indexOf(item);\r\n  if (idx !== -1) {\r\n    temp.splice(idx, 1);\r\n  } else {\r\n    temp.push(item);\r\n  }\r\n  return temp;\r\n}\r\n\r\nexport function num(txt) {\r\n  let ret = 0;\r\n  if (typeof txt == \"string\") ret = txt.replace(/[^\\d\\.]*/g, \"\");\r\n  else ret = txt;\r\n  return parseInt(ret);\r\n}\r\nexport function query(param) {\r\n  let xquery = window.location.search.substring(1);\r\n  let vars = xquery.split(\"&\");\r\n  for (let i = 0; i < vars.length; i++) {\r\n    let pair = vars[i].split(\"=\");\r\n    if (pair[0] == param) {\r\n      return pair[1];\r\n    }\r\n  }\r\n  return false;\r\n}\r\n"],"sourceRoot":""}