(window["webpackJsonpuser-panel"]=window["webpackJsonpuser-panel"]||[]).push([[14],{177:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(79),c=t(11),o=t(15),s=t(109),i=t(108),m=t(16),u=t(8),d=t(9),v=t(78),b=t(81),f=t(87),p=t(37),E=t(80),w=function(){var e=Object(n.useState)(!1),a=Object(d.a)(e,2),t=a[0],l=a[1],s=Object(n.useState)(!1),i=Object(d.a)(s,2),w=i[0],j=i[1],O=Object(n.useState)(!1),g=Object(d.a)(O,2),h=(g[0],g[1],Object(n.useState)()),N=Object(d.a)(h,2),y=N[0],C=N[1],P=function(e,a){C(Object(u.a)(Object(u.a)({},y),{},Object(m.a)({},e,a)))},k=Object(o.a)().setting.token;Object(n.useEffect)((function(){l(!0),Object(v.b)("profile",{token:k}).then((function(e){l(!1),e.success&&C(e.success)}))}),[]);return r.a.createElement("div",{className:""},t&&r.a.createElement(p.a,{forDiv:!0}),r.a.createElement("form",{className:"pt-3",autoComplete:"off",onSubmit:function(e){e.preventDefault(),j(!0),Object(v.b)("update-info",Object(u.a)(Object(u.a)({},y),{},{token:k})).then((function(e){j(null)}))}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement(f.a,{name:"name",value:null===y||void 0===y?void 0:y.name,disabled:!0})),r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement(f.a,{name:"email",value:null===y||void 0===y?void 0:y.email,disabled:!0})),r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement(f.a,{name:"fullname",value:null===y||void 0===y?void 0:y.fullname,onChange:function(e){return P("fullname",e)}})),r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement(f.a,{name:"tell",value:null===y||void 0===y?void 0:y.tell,onChange:function(e){return P("tell",e)}})),r.a.createElement("div",{class:"col-md-6"},r.a.createElement(f.a,{name:"language",data:["en","fa","tr","ar"],value:null===y||void 0===y?void 0:y.lang,onChange:function(e){return P("lang",e)}}))),r.a.createElement(E.a,{variant:"success",show:null===w},Object(c.a)("successInfo")),r.a.createElement("div",{className:"mt-3"},r.a.createElement(b.a,{loading:w,className:"btn btn-info btn-lg font-weight-medium"},Object(c.a)("update")))))},j=t(88),O=t.n(j),g=function(){var e=Object(n.useState)(!1),a=Object(d.a)(e,2),t=a[0],l=a[1],s=Object(n.useState)(!1),i=Object(d.a)(s,2),p=i[0],w=i[1],j=Object(n.useState)(!1),g=Object(d.a)(j,2),h=g[0],N=g[1],y=Object(n.useState)({oldPassword:"",newPassword:"",rePassword:""}),C=Object(d.a)(y,2),P=C[0],k=C[1],x=function(e,a){k(Object(u.a)(Object(u.a)({},P),{},Object(m.a)({},e,a)))},S=Object(o.a)().setting.token;return r.a.createElement("div",{className:""},r.a.createElement("form",{className:"pt-3",autoComplete:"off",onSubmit:function(e){e.preventDefault(),null==function(){var e={};for(var a in P.newPassword!=P.rePassword&&(e.rePassword="passwordNotMatch"),P)P[a].length<5&&(e[a]="validation.min"),""==P[a]&&(e[a]="validation.empty");var t=O.a.isEmpty(e)?null:e;return w(t),t}()&&(l(!0),Object(v.b)("change-password",Object(u.a)(Object(u.a)({},P),{},{token:S})).then((function(e){if(l(!1),e.success)N(!0);else if(e.error){var a={};for(var t in e.error)a[t]=[t,e.error[t][0]];w(a)}})))}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement(f.a,{type:"password",name:"oldPassword",value:null===P||void 0===P?void 0:P.oldPassword,onChange:function(e){return x("oldPassword",e)},error:null===p||void 0===p?void 0:p.oldPassword})),r.a.createElement("div",{className:"col-12 col-md-6"}),r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement(f.a,{type:"password",name:"newPassword",value:null===P||void 0===P?void 0:P.newPassword,onChange:function(e){return x("newPassword",e)},error:null===p||void 0===p?void 0:p.newPassword})),r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement(f.a,{type:"password",name:"reNewPassword",value:null===P||void 0===P?void 0:P.rePassword,onChange:function(e){return x("rePassword",e)},error:null===p||void 0===p?void 0:p.rePassword}))),r.a.createElement(E.a,{variant:"success",show:h},Object(c.a)("successPassword")),r.a.createElement("div",{className:"mt-3"},r.a.createElement(b.a,{loading:t,className:"btn btn-info btn-lg font-weight-medium"},Object(c.a)("update")))))};a.default=function(){Object(o.a)().setting.token;return Object(n.useEffect)((function(){}),[]),r.a.createElement("div",null,r.a.createElement(l.a,{title:"profile",icon:"mdi-account"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 grid-margin stretch-card"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(s.a.Container,{defaultActiveKey:"info"},r.a.createElement(i.a,{variant:"pills",className:"tickets-tab-switch border-bottom"},r.a.createElement(i.a.Item,{className:"nowrap"},r.a.createElement(i.a.Link,{eventKey:"info"},Object(c.a)("userInformation"))),r.a.createElement(i.a.Item,{className:"nowrap"},r.a.createElement(i.a.Link,{eventKey:"password"},Object(c.a)("changePassword")))),r.a.createElement(s.a.Content,{className:"border-0 tab-content-basic position-relative"},r.a.createElement(s.a.Pane,{eventKey:"info"},r.a.createElement(w,null)),r.a.createElement(s.a.Pane,{eventKey:"password"},r.a.createElement(g,null)))))))))}},78:function(e,a,t){"use strict";t.d(a,"a",(function(){return u})),t.d(a,"b",(function(){return d}));var n=t(83),r=t.n(n),l=t(85),c=t(84),o=t.n(c),s=t(86),i="localhost"===window.location.hostname?"http://localhost:8000/api/":"https://stronghold.live/api/",m=Object(s.setup)({axios:o.a,baseURL:i,timeout:5e3,validateStatus:function(){return!0},cache:{maxAge:1e3}}),u=function(){var e=Object(l.a)(r.a.mark((function e(a,t){var n,l,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,(null===t||void 0===t?void 0:t.cache)&&(n.cache={maxAge:6e5}),e.next=5,m.get(a,n);case 5:return l=e.sent,e.next=8,l;case 8:return c=e.sent,o=c.data,e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(1),window.postMessage({notify:["error","try-later"]},"*"),e.next=18,0;case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(a,t){return e.apply(this,arguments)}}(),d=function(){var e=Object(l.a)(r.a.mark((function e(a,t,n){var l,c,o,s,i,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in l={},e.prev=1,(null===n||void 0===n?void 0:n.cache)&&(l.cache={maxAge:6e5}),c=new FormData,t)c.append(o,t[o]);return s=m.post(a,c,l),e.next=8,s;case 8:return i=e.sent,(null===(u=i.data)||void 0===u?void 0:u.login)&&window.postMessage({login:!0},"*"),e.abrupt("return",u);case 14:return e.prev=14,e.t0=e.catch(1),window.postMessage({notify:["error","try-later"]},"*"),e.next=19,0;case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(a,t,n){return e.apply(this,arguments)}}()},79:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(11);a.a=function(e){var a=e.title,t=e.icon;return r.a.createElement("div",{className:"page-header"},r.a.createElement("h3",{className:"page-title"},r.a.createElement("span",{className:"page-title-icon bg-gradient-primary text-black mr-2"},r.a.createElement("i",{className:"mdi "+t}))," ",Object(l.a)(a)," "),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ul",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},r.a.createElement("span",null)," ",r.a.createElement("i",{className:"mdi mdi-alert-circle-outline icon-sm text-primary align-middle"})))))}},80:function(e,a,t){"use strict";var n=t(1),r=t(3),l=t(10),c=t.n(l),o=t(0),s=t.n(o),i=t(22),m=t(14),u=t(6),d=t(82),v=t(2),b=t.n(v),f={label:b.a.string.isRequired,onClick:b.a.func},p=s.a.forwardRef((function(e,a){var t=e.label,l=e.onClick,o=e.className,i=Object(r.a)(e,["label","onClick","className"]);return s.a.createElement("button",Object(n.a)({ref:a,type:"button",className:c()("close",o),onClick:l},i),s.a.createElement("span",{"aria-hidden":"true"},"\xd7"),s.a.createElement("span",{className:"sr-only"},t))}));p.displayName="CloseButton",p.propTypes=f,p.defaultProps={label:"Close"};var E,w=p,j=t(25),O=t(24),g=(E="h4",s.a.forwardRef((function(e,a){return s.a.createElement("div",Object(n.a)({},e,{ref:a,className:c()(e.className,E)}))})));g.displayName="DivStyledAsH4";var h=Object(j.a)("alert-heading",{Component:g}),N=Object(j.a)("alert-link",{Component:O.a}),y={show:!0,transition:d.a,closeLabel:"Close alert"},C=s.a.forwardRef((function(e,a){var t=Object(i.a)(e,{show:"onClose"}),l=t.bsPrefix,o=t.show,v=t.closeLabel,b=t.className,f=t.children,p=t.variant,E=t.onClose,j=t.dismissible,O=t.transition,g=Object(r.a)(t,["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"]),h=Object(u.a)(l,"alert"),N=Object(m.a)((function(e){E&&E(!1,e)})),y=!0===O?d.a:O,C=s.a.createElement("div",Object(n.a)({role:"alert"},y?void 0:g,{ref:a,className:c()(b,h,p&&h+"-"+p,j&&h+"-dismissible")}),j&&s.a.createElement(w,{onClick:N,label:v}),f);return y?s.a.createElement(y,Object(n.a)({unmountOnExit:!0},g,{ref:void 0,in:o}),C):o?C:null}));C.displayName="Alert",C.defaultProps=y,C.Link=N,C.Heading=h;a.a=C},81:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(92);a.a=function(e){return r.a.createElement("button",{className:e.className,onClick:null===e||void 0===e?void 0:e.onClick},e.loading?r.a.createElement(l.a,{as:"span",animation:"border",size:"sm"}):e.children)}},87:function(e,a,t){"use strict";var n=t(93),r=t(0),l=t.n(r),c=t(11),o=t(88),s=t.n(o);a.a=function(e){var a=e.type,t=void 0===a?"text":a,r=e.name,o=e.multiLine,i=void 0!==o&&o,m=e.data,u=void 0===m?null:m,d=e.value,v=e.onChange,b=e.error,f=Object(n.a)(e,["type","name","multiLine","data","value","onChange","error"]);return l.a.createElement("div",{className:"form-group "+(b?"has-danger":"")},l.a.createElement("label",{htmlFor:r},Object(c.a)(r)),u?l.a.createElement("select",Object.assign({id:r,name:r,value:d,onChange:function(e){return v(e.target.value)},className:"form-control form-control-lg "+(b?"form-control-danger":"")},f),u.map((function(e,a){return l.a.createElement("option",{value:s.a.isObject(e)?e.key:e,key:a}," ",s.a.isObject(e)?e.val:Object(c.a)(e))}))):i?l.a.createElement("textarea",Object.assign({id:r,name:r,dir:"auto",value:d,onChange:function(e){return v(e.target.value)},className:"form-control form-control-lg "+(b?"form-control-danger":""),rows:5},f)):l.a.createElement("input",Object.assign({id:r,name:r,type:t,value:null!==d&&void 0!==d?d:"",onChange:function(e){return v(e.target.value)},autoComplete:"off",dir:"auto",className:"form-control form-control-lg "+(b?"form-control-danger":"")},f)),l.a.createElement("label",{className:"error mt-2 text-danger"},"object"==typeof b?b.map((function(e){return Object(c.a)(e)+" "})):Object(c.a)(b)),"info"in f&&l.a.createElement("label",{className:"info mt-2 text-info w-100"},f.info))}}}]);
//# sourceMappingURL=14.f0734ea8.chunk.js.map