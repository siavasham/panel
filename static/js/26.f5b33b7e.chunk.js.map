{"version":3,"sources":["library/helper.js","component/otp-input.js","route/sign/activate.js","library/request.js","component/button.js"],"names":["numEn","input","undefined","returnModel","symbolMap","toString","i","length","validateEmail","email","test","toMoney","amount","replace","query","param","vars","window","location","search","substring","split","pair","isStyleObject","obj","SingleOtpInput","getClasses","classes","filter","c","join","this","props","focus","shouldAutoFocus","prevProps","select","separator","isLastChild","inputStyle","isDisabled","hasErrored","errorStyle","focusStyle","disabledStyle","isInputNum","value","rest","style","display","alignItems","autoComplete","Object","assign","width","textAlign","padding","className","type","maxLength","ref","disabled","PureComponent","OtpInput","state","activeInput","getOtpValue","handleOtpChange","otp","onChange","isInputValueValid","isNaN","parseInt","trim","focusInput","numInputs","Math","max","min","setState","focusNextInput","focusPrevInput","changeCodeAtFocus","handleOnPaste","e","preventDefault","pastedData","clipboardData","getData","slice","pos","shift","handleOnChange","target","handleOnKeyDown","keyCode","key","handleOnInput","nativeEvent","data","inputType","renderInputs","inputs","push","onKeyDown","onInput","onPaste","onFocus","onBlur","containerStyle","Component","defaultProps","console","log","Activate","useStorage","session","setSetting","useHistory","useState","loading","setLoading","error","setError","code","setCode","src","require","alt","onSubmit","temp","res","_","isEmpty","validate","post","then","success","login","t","val","Alert","variant","show","href","onClick","name","password","referral","baseUrl","hostname","axiosBase","setup","axios","baseURL","timeout","validateStatus","cache","maxAge","get","path","opt","a","header","postMessage","notify","items","form","FormData","append","as","animation","size","children"],"mappings":"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","file":"static/js/26.f5b33b7e.chunk.js","sourcesContent":["export function numEn(input) {\r\n  if (input == undefined) return;\r\n  var returnModel = \"\",\r\n    symbolMap = {\r\n      \"۱\": \"1\",\r\n      \"۲\": \"2\",\r\n      \"۳\": \"3\",\r\n      \"۴\": \"4\",\r\n      \"۵\": \"5\",\r\n      \"۶\": \"6\",\r\n      \"۷\": \"7\",\r\n      \"۸\": \"8\",\r\n      \"۹\": \"9\",\r\n      \"۰\": \"0\",\r\n    };\r\n  input = input.toString();\r\n  for (var i = 0; i < input.length; i++)\r\n    if (symbolMap[input[i]]) returnModel += symbolMap[input[i]];\r\n    else returnModel += input[i];\r\n  return returnModel;\r\n}\r\nexport const validateEmail = (email) => {\r\n  var re = /\\S+@\\S+\\.\\S+/;\r\n  return re.test(email);\r\n};\r\nexport const isArray = function (a) {\r\n  return Array.isArray(a);\r\n};\r\n\r\nexport const isObject = function (o) {\r\n  return o === Object(o) && !isArray(o) && typeof o !== \"function\";\r\n};\r\n\r\nexport function isIterable(variable) {\r\n  return isArray(variable) || isObject(variable);\r\n}\r\n\r\nexport function clone(arr) {\r\n  let newObj = arr instanceof Array ? [] : {};\r\n  for (let i in arr) {\r\n    if (i == \"clone\") continue;\r\n    if (arr[i] && typeof arr[i] == \"object\") {\r\n      newObj[i] = clone(arr[i]);\r\n    } else newObj[i] = arr[i];\r\n  }\r\n  return newObj;\r\n}\r\n\r\nexport function toMoney(amount) {\r\n  if (typeof amount == \"undefined\" || amount == \"null\") return \"\";\r\n  if (amount.length < 2) return amount + \"\";\r\n  return (\"\" + amount)\r\n    .replace(/,/g, \"\")\r\n    .replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\r\n}\r\nexport function toggle(collection, item) {\r\n  let temp = clone(collection);\r\n  var idx = temp.indexOf(item);\r\n  if (idx !== -1) {\r\n    temp.splice(idx, 1);\r\n  } else {\r\n    temp.push(item);\r\n  }\r\n  return temp;\r\n}\r\n\r\nexport function num(txt) {\r\n  let ret = 0;\r\n  if (typeof txt == \"string\") ret = txt.replace(/[^\\d\\.]*/g, \"\");\r\n  else ret = txt;\r\n  return parseInt(ret);\r\n}\r\nexport function query(param) {\r\n  let xquery = window.location.search.substring(1);\r\n  let vars = xquery.split(\"&\");\r\n  for (let i = 0; i < vars.length; i++) {\r\n    let pair = vars[i].split(\"=\");\r\n    if (pair[0] == param) {\r\n      return pair[1];\r\n    }\r\n  }\r\n  return false;\r\n}\r\n","import React, { Component, PureComponent } from \"react\";\r\nimport { numEn } from \"library/helper\";\r\n\r\n// keyCode constants\r\nconst BACKSPACE = 8;\r\nconst LEFT_ARROW = 37;\r\nconst RIGHT_ARROW = 39;\r\nconst DELETE = 46;\r\nconst SPACEBAR = 32;\r\n\r\ntype Props = {\r\n  numInputs: number,\r\n  onChange: Function,\r\n  separator?: Object,\r\n  containerStyle?: Object,\r\n  inputStyle?: Object,\r\n  focusStyle?: Object,\r\n  isDisabled?: boolean,\r\n  disabledStyle?: Object,\r\n  hasErrored?: boolean,\r\n  errorStyle?: Object,\r\n  shouldAutoFocus?: boolean,\r\n  isInputNum?: boolean,\r\n  value?: string,\r\n};\r\n\r\ntype State = {\r\n  activeInput: number,\r\n  otp: string[],\r\n};\r\n\r\n// Doesn't really check if it's a style Object\r\n// Basic implementation to check if it's not a string\r\n// of classNames and is an Object\r\n// TODO: Better implementation\r\nconst isStyleObject = (obj) => typeof obj === \"object\";\r\n\r\nclass SingleOtpInput extends PureComponent<*> {\r\n  input: ?HTMLInputElement;\r\n\r\n  // Focus on first render\r\n  // Only when shouldAutoFocus is true\r\n  componentDidMount() {\r\n    const {\r\n      input,\r\n      props: { focus, shouldAutoFocus },\r\n    } = this;\r\n\r\n    if (input && focus && shouldAutoFocus) {\r\n      input.focus();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const {\r\n      input,\r\n      props: { focus },\r\n    } = this;\r\n\r\n    // Check if focusedInput changed\r\n    // Prevent calling function if input already in focus\r\n    if (prevProps.focus !== focus && input && focus) {\r\n      input.focus();\r\n      input.select();\r\n    }\r\n  }\r\n\r\n  getClasses = (...classes) =>\r\n    classes.filter((c) => !isStyleObject(c) && c !== false).join(\" \");\r\n\r\n  render() {\r\n    const {\r\n      separator,\r\n      isLastChild,\r\n      inputStyle,\r\n      focus,\r\n      isDisabled,\r\n      hasErrored,\r\n      errorStyle,\r\n      focusStyle,\r\n      disabledStyle,\r\n      shouldAutoFocus,\r\n      isInputNum,\r\n      value,\r\n      ...rest\r\n    } = this.props;\r\n\r\n    return (\r\n      <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n        <input\r\n          autoComplete=\"off\"\r\n          style={Object.assign(\r\n            { width: \"3rem\", textAlign: \"center\", padding: \".5rem\" },\r\n            isStyleObject(inputStyle) && inputStyle,\r\n            focus && isStyleObject(focusStyle) && focusStyle,\r\n            isDisabled && isStyleObject(disabledStyle) && disabledStyle,\r\n            hasErrored && isStyleObject(errorStyle) && errorStyle\r\n          )}\r\n          className={this.getClasses(\r\n            inputStyle,\r\n            focus && focusStyle,\r\n            isDisabled && disabledStyle,\r\n            hasErrored && errorStyle\r\n          )}\r\n          type={isInputNum ? \"tel\" : \"text\"}\r\n          maxLength=\"1\"\r\n          ref={(input) => {\r\n            this.input = input;\r\n          }}\r\n          disabled={isDisabled}\r\n          value={value ? value : \"\"}\r\n          {...rest}\r\n        />\r\n        {!isLastChild && separator}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass OtpInput extends Component<Props, State> {\r\n  static defaultProps = {\r\n    numInputs: 4,\r\n    onChange: (otp: number): void => console.log(otp),\r\n    isDisabled: false,\r\n    shouldAutoFocus: true,\r\n    focus: true,\r\n    value: \"\",\r\n  };\r\n\r\n  state = {\r\n    activeInput: 0,\r\n  };\r\n\r\n  getOtpValue = () =>\r\n    this.props.value ? this.props.value.toString().split(\"\") : [];\r\n\r\n  // Helper to return OTP from input\r\n  handleOtpChange = (otp: string[]) => {\r\n    const { onChange } = this.props;\r\n    const otpValue = otp.join(\"\");\r\n\r\n    onChange(otpValue);\r\n  };\r\n\r\n  isInputValueValid = (value) => {\r\n    const isTypeValid = this.props.isInputNum\r\n      ? !isNaN(parseInt(numEn(value), 10))\r\n      : typeof value === \"string\";\r\n\r\n    return isTypeValid && value.trim().length === 1;\r\n  };\r\n\r\n  // Focus on input by index\r\n  focusInput = (input: number) => {\r\n    const { numInputs } = this.props;\r\n    const activeInput = Math.max(Math.min(numInputs - 1, input), 0);\r\n\r\n    this.setState({ activeInput });\r\n  };\r\n\r\n  // Focus on next input\r\n  focusNextInput = () => {\r\n    const { activeInput } = this.state;\r\n    this.focusInput(activeInput + 1);\r\n  };\r\n\r\n  // Focus on previous input\r\n  focusPrevInput = () => {\r\n    const { activeInput } = this.state;\r\n    this.focusInput(activeInput - 1);\r\n  };\r\n\r\n  // Change OTP value at focused input\r\n  changeCodeAtFocus = (value: string) => {\r\n    const { activeInput } = this.state;\r\n    const otp = this.getOtpValue();\r\n    otp[activeInput] = value[0];\r\n\r\n    this.handleOtpChange(otp);\r\n  };\r\n\r\n  // Handle pasted OTP\r\n  handleOnPaste = (e: Object) => {\r\n    e.preventDefault();\r\n    const { numInputs } = this.props;\r\n    const { activeInput } = this.state;\r\n    const otp = this.getOtpValue();\r\n\r\n    // Get pastedData in an array of max size (num of inputs - current position)\r\n    const pastedData = e.clipboardData\r\n      .getData(\"text/plain\")\r\n      .slice(0, numInputs - activeInput)\r\n      .split(\"\");\r\n\r\n    // Paste data from focused input onwards\r\n    for (let pos = 0; pos < numInputs; ++pos) {\r\n      if (pos >= activeInput && pastedData.length > 0) {\r\n        otp[pos] = pastedData.shift();\r\n      }\r\n    }\r\n\r\n    this.handleOtpChange(otp);\r\n  };\r\n\r\n  handleOnChange = (e: Object) => {\r\n    const { value } = e.target;\r\n    if (this.isInputValueValid(value)) {\r\n      this.changeCodeAtFocus(value);\r\n    }\r\n  };\r\n\r\n  // Handle cases of backspace, delete, left arrow, right arrow, space\r\n  handleOnKeyDown = (e: Object) => {\r\n    if (e.keyCode === BACKSPACE || e.key === \"Backspace\") {\r\n      e.preventDefault();\r\n      this.changeCodeAtFocus(\"\");\r\n      this.focusPrevInput();\r\n    } else if (e.keyCode === DELETE || e.key === \"Delete\") {\r\n      e.preventDefault();\r\n      this.changeCodeAtFocus(\"\");\r\n    } else if (e.keyCode === LEFT_ARROW || e.key === \"ArrowLeft\") {\r\n      e.preventDefault();\r\n      this.focusPrevInput();\r\n    } else if (e.keyCode === RIGHT_ARROW || e.key === \"ArrowRight\") {\r\n      e.preventDefault();\r\n      this.focusNextInput();\r\n    } else if (\r\n      e.keyCode === SPACEBAR ||\r\n      e.key === \" \" ||\r\n      e.key === \"Spacebar\" ||\r\n      e.key === \"Space\"\r\n    ) {\r\n      e.preventDefault();\r\n    }\r\n  };\r\n\r\n  // The content may not have changed, but some input took place hence change the focus\r\n  handleOnInput = (e: Object) => {\r\n    if (this.isInputValueValid(e.target.value)) {\r\n      this.focusNextInput();\r\n    } else {\r\n      // This is a workaround for dealing with keyCode \"229 Unidentified\" on Android.\r\n\r\n      if (!this.props.isInputNum) {\r\n        const { nativeEvent } = e;\r\n\r\n        if (\r\n          nativeEvent.data === null &&\r\n          nativeEvent.inputType === \"deleteContentBackward\"\r\n        ) {\r\n          e.preventDefault();\r\n          this.changeCodeAtFocus(\"\");\r\n          this.focusPrevInput();\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  renderInputs = () => {\r\n    const { activeInput } = this.state;\r\n    const {\r\n      numInputs,\r\n      inputStyle,\r\n      focusStyle,\r\n      separator,\r\n      isDisabled,\r\n      disabledStyle,\r\n      hasErrored,\r\n      errorStyle,\r\n      shouldAutoFocus,\r\n      isInputNum,\r\n    } = this.props;\r\n    const otp = this.getOtpValue();\r\n    const inputs = [];\r\n\r\n    for (let i = 0; i < numInputs; i++) {\r\n      inputs.push(\r\n        <SingleOtpInput\r\n          key={i}\r\n          focus={activeInput === i}\r\n          value={otp && otp[i]}\r\n          onChange={this.handleOnChange}\r\n          onKeyDown={this.handleOnKeyDown}\r\n          onInput={this.handleOnInput}\r\n          onPaste={this.handleOnPaste}\r\n          onFocus={(e) => {\r\n            this.setState({ activeInput: i });\r\n            e.target.select();\r\n          }}\r\n          onBlur={() => this.setState({ activeInput: -1 })}\r\n          separator={separator}\r\n          inputStyle={inputStyle}\r\n          focusStyle={focusStyle}\r\n          isLastChild={i === numInputs - 1}\r\n          isDisabled={isDisabled}\r\n          disabledStyle={disabledStyle}\r\n          hasErrored={hasErrored}\r\n          errorStyle={errorStyle}\r\n          shouldAutoFocus={shouldAutoFocus}\r\n          isInputNum={isInputNum}\r\n        />\r\n      );\r\n    }\r\n\r\n    return inputs;\r\n  };\r\n\r\n  render() {\r\n    const { containerStyle } = this.props;\r\n\r\n    return (\r\n      <div\r\n        style={Object.assign(\r\n          { display: \"flex\" },\r\n          isStyleObject(containerStyle) && containerStyle\r\n        )}\r\n        className={!isStyleObject(containerStyle) ? containerStyle : \"\"}\r\n      >\r\n        {this.renderInputs()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OtpInput;\r\n","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { t } from \"locales\";\r\nimport { post } from \"library/request\";\r\nimport _ from \"lodash\";\r\nimport OtpInput from \"component/otp-input\";\r\nimport Button from \"component/button\";\r\nimport { numEn } from \"library/helper\";\r\nimport useStorage from \"reducer\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nconst Activate = () => {\r\n  const { session, setSetting } = useStorage();\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [code, setCode] = useState(\"\");\r\n\r\n  const validate = () => {\r\n    const inputs = { code };\r\n    const temp = {};\r\n    if (code.length < 6) {\r\n      temp[\"code\"] = \"validation.min\";\r\n    }\r\n    const res = _.isEmpty(temp) ? null : temp[\"code\"];\r\n    setError(res);\r\n    return res;\r\n  };\r\n  const reSend = (e) => {\r\n    e.preventDefault();\r\n    const { name, email, password, referral } = session;\r\n    post(\"auth\", { name, email, password, referral }).then((data) => {\r\n      if (data.success) {\r\n      } else if (data.error) {\r\n      }\r\n    });\r\n  };\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (validate() == null) {\r\n      setLoading(true);\r\n      post(\"activate\", { email: session.email, code }).then((data) => {\r\n        setLoading(false);\r\n        if (data.success) {\r\n          setSetting({ login: data.success });\r\n        } else if (data.error) {\r\n          setError(data.error);\r\n        }\r\n      });\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex align-items-center auth px-0\">\r\n        <div className=\"row w-100 mx-0\">\r\n          <div className=\"col-md-7 col-lg-6 mx-auto box-max\">\r\n            <div className=\"auth-form-light  py-4 px-4 px-sm-5\">\r\n              <div className=\"brand-logo text-center\">\r\n                <img src={require(\"assets/images/logo.png\")} alt=\"logo\" />\r\n              </div>\r\n              {/* <h4>{t(\"code\")}</h4> */}\r\n              <form className=\"pt-3\" autoComplete=\"off\" onSubmit={onSubmit}>\r\n                <p>{t(\"codeSendedToEmail\")}</p>\r\n                <div className=\"mt-5 mb-5 dir-ltr align-content-center\">\r\n                  <OtpInput\r\n                    value={code}\r\n                    onChange={(val) => setCode(numEn(val))}\r\n                    numInputs={6}\r\n                    isInputNum={true}\r\n                    inputStyle={\"form-control\"}\r\n                    containerStyle={\"justify-content-center\"}\r\n                    separator={<span>-</span>}\r\n                  />\r\n                </div>\r\n                <Alert variant=\"danger\" show={!!error}>\r\n                  {t(error)}\r\n                </Alert>\r\n                <div className=\"mt-5\">\r\n                  <Button\r\n                    loading={loading}\r\n                    className=\"btn btn-block btn-info btn-lg font-weight-medium auth-form-btn\"\r\n                  >\r\n                    {t(\"activate\")}\r\n                  </Button>\r\n                </div>\r\n                <div className=\"text-center mt-4 font-weight-light\">\r\n                  {t(\"activateNotSended\")}{\" \"}\r\n                  <a href=\"#\" className=\"text-success\" onClick={reSend}>\r\n                    {t(\"reSend\")}\r\n                  </a>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Activate;\r\n","import axios from \"axios\";\r\nimport { setup } from \"axios-cache-adapter\";\r\nexport const baseUrl =\r\n  window.location.hostname === \"localhost\"\r\n    ? \"http://localhost:8000/api/\"\r\n    : \"https://stronghold.live/api/\";\r\nconst axiosBase = setup({\r\n  axios,\r\n  baseURL: baseUrl,\r\n  timeout: 5000,\r\n  validateStatus: function () {\r\n    return true;\r\n  },\r\n  cache: {\r\n    maxAge: 1000,\r\n  },\r\n});\r\n\r\nexport const get = async (path, opt) => {\r\n  let header = {};\r\n  try {\r\n    if (opt?.cache) {\r\n      header.cache = {\r\n        maxAge: 10 * 60 * 1000,\r\n      };\r\n    }\r\n    const res = await axiosBase.get(path, header);\r\n    const { data } = await res;\r\n    return data;\r\n  } catch (error) {\r\n    window.postMessage({ notify: [\"error\", \"try-later\"] }, \"*\");\r\n    return await 0;\r\n  }\r\n};\r\n\r\nexport const post = async (path, items, opt) => {\r\n  let header = {};\r\n  try {\r\n    if (opt?.cache) {\r\n      header.cache = {\r\n        maxAge: 10 * 60 * 1000,\r\n      };\r\n    }\r\n    let form = new FormData();\r\n    for (let key in items) {\r\n      form.append(key, items[key]);\r\n    }\r\n    const res = axiosBase.post(path, form, header);\r\n    const { data } = await res;\r\n    if (data?.login) {\r\n      window.postMessage({ login: true }, \"*\");\r\n    }\r\n    return data;\r\n  } catch (error) {\r\n    window.postMessage({ notify: [\"error\", \"try-later\"] }, \"*\");\r\n    return await 0;\r\n  }\r\n};\r\n\r\nexport default { get, post };\r\n","import React from 'react';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\nexport default function (props) {\r\n    return (\r\n        <button className={props.className} onClick={props?.onClick}>\r\n            {props.loading\r\n                ? <Spinner\r\n                    as=\"span\"\r\n                    animation=\"border\"\r\n                    size=\"sm\"\r\n                />\r\n                : props.children\r\n            }\r\n        </button>\r\n    )\r\n};\r\n\r\n"],"sourceRoot":""}