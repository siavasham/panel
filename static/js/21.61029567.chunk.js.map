{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","route/ticket/ticket.js","library/request.js","component/breadcrumb.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","library/timeAgo.js"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","types","useState","tickets","setTickets","token","useStorage","setting","timeAgo","useTimeAgo","useEffect","post","cache","then","res","success","temp","ticket","status","title","icon","className","to","t","Tab","Container","defaultActiveKey","Nav","variant","map","type","i","Item","key","Link","eventKey","length","Content","Pane","id","format","Date","created_at","getTime","baseUrl","window","location","hostname","axiosBase","setup","axios","baseURL","timeout","validateStatus","maxAge","get","path","opt","a","header","data","postMessage","notify","items","form","FormData","append","login","aria-label","aria-current","_createForOfIteratorHelper","o","F","s","n","done","value","e","_e","f","it","err","normalCompletion","didErr","step","next","_e2","lang","TimeAgo","addLocale","fa","en","ar","tr"],"mappings":"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","file":"static/js/21.61029567.chunk.js","sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useState, useEffect } from \"react\";\r\nimport Breadcrumb from \"component/breadcrumb\";\r\nimport { t } from \"locales\";\r\nimport { post } from \"library/request\";\r\nimport useTimeAgo from \"library/timeAgo\";\r\nimport useStorage from \"reducer\";\r\nimport Tab from \"react-bootstrap/Tab\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst types = [\"open\", \"progress\", \"on-hold\", \"done\", \"rejected\"];\r\n\r\nexport default function () {\r\n  const [tickets, setTickets] = useState([]);\r\n  const {\r\n    setting: { token },\r\n  } = useStorage();\r\n  const timeAgo = useTimeAgo();\r\n\r\n  useEffect(() => {\r\n    post(\"tickets\", { token }, { cache: true }).then((res) => {\r\n      if (res?.success) {\r\n        const temp = {};\r\n        for (let ticket of res.success) {\r\n          temp[ticket.status] = [...(temp?.[ticket.status] ?? []), ticket];\r\n        }\r\n        setTickets(temp);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Breadcrumb title=\"ticket\" icon=\"mdi-message-text\" />\r\n      <div className=\"row\">\r\n        <div className=\"col-12 grid-margin stretch-card\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              <div className=\"d-sm-flex pb-4 mb-4 border-bottom\">\r\n                <Link className=\"btn btn-gradient-success p-3\" to=\"/ticket/new\">\r\n                  {t(\"addTicket\")}\r\n                </Link>\r\n              </div>\r\n              <Tab.Container defaultActiveKey=\"open\">\r\n                <Nav variant=\"pills\" className=\"tickets-tab-switch\">\r\n                  {types.map((type, i) => (\r\n                    <Nav.Item key={i} className=\"nowrap\">\r\n                      <Nav.Link eventKey={type}>\r\n                        {t(type)}\r\n                        <div className=\"badge\">\r\n                          {tickets?.[type]?.length ?? 0}{\" \"}\r\n                        </div>\r\n                      </Nav.Link>\r\n                    </Nav.Item>\r\n                  ))}\r\n                </Nav>\r\n\r\n                <Tab.Content className=\"border-0 tab-content-basic\">\r\n                  {types.map((type, i) => (\r\n                    <Tab.Pane eventKey={type} key={i}>\r\n                      {tickets?.[type]?.map((ticket, i) => (\r\n                        <Link key={i} to={\"/ticket/view/\" + ticket.id}>\r\n                          <div className=\"row tickets-card\">\r\n                            <div className=\"col d-flex mt-2 mb-2\">\r\n                              <div className=\"nowrap\">\r\n                                <p className=\"tickets-details col-lg-8\">\r\n                                  <p className=\"mb-2 font-weight-medium text-muted\">\r\n                                    {t(\"tikcktTitle\")}\r\n                                  </p>\r\n                                  <h6 className=\"font-weight-semibold mb-0 text-primary\">\r\n                                    {ticket.title}\r\n                                  </h6>\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"ticket-float col-lg-2 col-sm-6\">\r\n                              <div className=\"nowrap\">\r\n                                <p className=\"mb-2 font-weight-medium text-muted\">\r\n                                  {t(\"date\")}\r\n                                </p>\r\n                                <span className=\"font-weight-semibold mb-0\">\r\n                                  {timeAgo.format(\r\n                                    new Date(ticket.created_at).getTime()\r\n                                  )}\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </Link>\r\n                      ))}\r\n                    </Tab.Pane>\r\n                  ))}\r\n                </Tab.Content>\r\n              </Tab.Container>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport { setup } from \"axios-cache-adapter\";\r\nexport const baseUrl =\r\n  window.location.hostname === \"localhost\"\r\n    ? \"http://localhost:8000/api/\"\r\n    : \"https://stronghold.live/api/\";\r\nconst axiosBase = setup({\r\n  axios,\r\n  baseURL: baseUrl,\r\n  timeout: 5000,\r\n  validateStatus: function () {\r\n    return true;\r\n  },\r\n  cache: {\r\n    maxAge: 1000,\r\n  },\r\n});\r\n\r\nexport const get = async (path, opt) => {\r\n  let header = {};\r\n  try {\r\n    if (opt?.cache) {\r\n      header.cache = {\r\n        maxAge: 10 * 60 * 1000,\r\n      };\r\n    }\r\n    const res = await axiosBase.get(path, header);\r\n    const { data } = await res;\r\n    return data;\r\n  } catch (error) {\r\n    window.postMessage({ notify: [\"error\", \"try-later\"] }, \"*\");\r\n    return await 0;\r\n  }\r\n};\r\n\r\nexport const post = async (path, items, opt) => {\r\n  let header = {};\r\n  try {\r\n    if (opt?.cache) {\r\n      header.cache = {\r\n        maxAge: 10 * 60 * 1000,\r\n      };\r\n    }\r\n    let form = new FormData();\r\n    for (let key in items) {\r\n      form.append(key, items[key]);\r\n    }\r\n    const res = axiosBase.post(path, form, header);\r\n    const { data } = await res;\r\n    if (data?.login) {\r\n      window.postMessage({ login: true }, \"*\");\r\n    }\r\n    return data;\r\n  } catch (error) {\r\n    window.postMessage({ notify: [\"error\", \"try-later\"] }, \"*\");\r\n    return await 0;\r\n  }\r\n};\r\n\r\nexport default { get, post };\r\n","import React from \"react\";\r\nimport { t } from \"locales\";\r\nexport default function ({ title, icon }) {\r\n  return (\r\n    <div className=\"page-header\">\r\n      <h3 className=\"page-title\">\r\n        <span className=\"page-title-icon bg-gradient-primary text-black mr-2\">\r\n          <i className={\"mdi \" + icon}></i>\r\n        </span>{\" \"}\r\n        {t(title)}{\" \"}\r\n      </h3>\r\n      <nav aria-label=\"breadcrumb\">\r\n        <ul className=\"breadcrumb\">\r\n          <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n            <span></span>{\" \"}\r\n            <i className=\"mdi mdi-alert-circle-outline icon-sm text-primary align-middle\"></i>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import TimeAgo from \"javascript-time-ago\";\r\nimport fa from \"javascript-time-ago/locale/fa\";\r\nimport en from \"javascript-time-ago/locale/en\";\r\nimport ar from \"javascript-time-ago/locale/ar\";\r\nimport tr from \"javascript-time-ago/locale/tr\";\r\n\r\nimport useStorage from \"reducer\";\r\n\r\nexport default function useTimeAgo() {\r\n  const {\r\n    setting: { lang },\r\n  } = useStorage();\r\n  TimeAgo.addLocale(fa);\r\n  TimeAgo.addLocale(en);\r\n  TimeAgo.addLocale(ar);\r\n  TimeAgo.addLocale(tr);\r\n  return new TimeAgo(lang);\r\n}\r\n"],"sourceRoot":""}