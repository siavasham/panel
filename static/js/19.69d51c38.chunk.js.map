{"version":3,"sources":["route/referral/referral.js","library/request.js","component/breadcrumb.js","component/infobox.js","library/timeAgo.js"],"names":["useState","referrals","setReferrals","copid","setCopid","useStorage","setting","name","token","timeAgo","useTimeAgo","address","window","location","origin","onCopy","setTimeout","useEffect","post","cache","then","res","success","title","icon","text","t","className","component","data-clipboard-text","onSuccess","defaultValue","dir","type","variant","bsPrefix","show","map","ref","i","key","referral","invested","profit","format","Date","created_at","getTime","baseUrl","hostname","axiosBase","setup","axios","baseURL","timeout","validateStatus","maxAge","get","path","opt","a","header","data","postMessage","notify","items","form","FormData","append","login","aria-label","aria-current","lang","TimeAgo","addLocale","fa","en","ar","tr"],"mappings":"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","file":"static/js/19.69d51c38.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Breadcrumb from \"component/breadcrumb\";\r\nimport { t } from \"locales\";\r\nimport { post } from \"library/request\";\r\nimport InfoBox from \"component/infobox\";\r\nimport Clipboard from \"react-clipboard.js\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport useTimeAgo from \"library/timeAgo\";\r\nimport useStorage from \"reducer\";\r\n\r\nexport default function () {\r\n  const [referrals, setReferrals] = useState([]);\r\n  const [copid, setCopid] = useState(false);\r\n  const {\r\n    setting: { name, token },\r\n  } = useStorage();\r\n  const timeAgo = useTimeAgo();\r\n  const address = window.location.origin + \"/register?ref=\" + name;\r\n  const onCopy = () => {\r\n    setCopid(true);\r\n    setTimeout(() => {\r\n      setCopid(false);\r\n    }, 5000);\r\n  };\r\n  useEffect(() => {\r\n    post(\"referrals\", { token }, { cache: true }).then((res) => {\r\n      if (res?.success) {\r\n        setReferrals(res.success);\r\n      }\r\n    });\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <Breadcrumb title=\"referrals\" icon=\"mdi-reply\" />\r\n      <InfoBox text={t(\"referralDesc\")} />\r\n      <div className=\"row\">\r\n        <div className=\"col-12 grid-margin stretch-card\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              <h4 className=\"card-title pb-3\">{t(\"yourReferral\")}</h4>\r\n              <p className=\"card-description\">{t(\"referralHelp\")}</p>\r\n              <div className=\"row\">\r\n                <div className=\"col-12 col-md-6\">\r\n                  <label>{t(\"refLink\")}</label>\r\n                  <div className=\"input-group\">\r\n                    <div className=\"input-group-prepend cursor-pointer\">\r\n                      <Clipboard\r\n                        component=\"span\"\r\n                        data-clipboard-text={address}\r\n                        onSuccess={onCopy}\r\n                        className=\"input-group-text text-primary mdi mdi-content-copy\"\r\n                      ></Clipboard>\r\n                    </div>\r\n                    <input\r\n                      defaultValue={address}\r\n                      dir=\"auto\"\r\n                      type=\"text\"\r\n                      className=\"form-control form-control\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-12 col-md-6\">\r\n                  <label>{t(\"refCode\")}</label>\r\n                  <div className=\"input-group\">\r\n                    <div className=\"input-group-prepend cursor-pointer\">\r\n                      <Clipboard\r\n                        component=\"span\"\r\n                        data-clipboard-text={name}\r\n                        onSuccess={onCopy}\r\n                        className=\"input-group-text text-primary mdi mdi-content-copy\"\r\n                      ></Clipboard>\r\n                    </div>\r\n                    <input\r\n                      defaultValue={name}\r\n                      dir=\"auto\"\r\n                      type=\"text\"\r\n                      className=\"form-control form-control\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"inline-absolute center text-center\">\r\n                <Alert\r\n                  variant=\"primary\"\r\n                  bsPrefix=\"alert alert-fill\"\r\n                  show={copid}\r\n                >\r\n                  {t(\"addressCopid\")}\r\n                </Alert>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {referrals && (\r\n        <div className=\"row\">\r\n          <div className=\"col-12 grid-margin stretch-card\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <h4 className=\"card-title pb-3\">{t(\"yourRefers\")}</h4>\r\n                {referrals.map((ref, i) => (\r\n                  <div className=\"row tickets-card\" key={i}>\r\n                    <div className=\"col d-flex mt-2 mb-2\">\r\n                      <div className=\"nowrap pl-3\">\r\n                        <p className=\"mb-2 font-weight-medium text-muted\">\r\n                          {t(\"userName\")}\r\n                        </p>\r\n                        <h4 className=\"font-weight-semibold mb-0 text-primary\">\r\n                          {ref.referral}\r\n                        </h4>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col d-flex mt-2 mb-2\">\r\n                      <div className=\"nowrap pl-3\">\r\n                        <p className=\"mb-2 font-weight-medium text-muted\">\r\n                          {t(\"invested\")}\r\n                        </p>\r\n                        <label\r\n                          className={\r\n                            \"badge \" +\r\n                            (ref.invested ? \"badge-success\" : \"badge-danger\")\r\n                          }\r\n                        >\r\n                          {t(ref.invested ? \"yes\" : \"no\")}\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col d-flex mt-2 mb-2\">\r\n                      <div className=\"nowrap pl-3\">\r\n                        <p className=\"mb-2 font-weight-medium text-muted\">\r\n                          {t(\"profit\")}\r\n                        </p>\r\n                        <h4 className=\"font-weight-semibold mb-0\">\r\n                          {t(ref.profit)}\r\n                        </h4>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col d-flex mt-2 mb-2\">\r\n                      <div className=\"nowrap pl-3\">\r\n                        <p className=\"mb-2 font-weight-medium text-muted\">\r\n                          {t(\"joinDate\")}\r\n                        </p>\r\n                        <span className=\"font-weight-semibold mb-0\">\r\n                          {timeAgo.format(new Date(ref.created_at).getTime())}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport { setup } from \"axios-cache-adapter\";\r\nexport const baseUrl =\r\n  window.location.hostname === \"localhost\"\r\n    ? \"http://localhost:8000/api/\"\r\n    : \"https://stronghold.live/api/\";\r\nconst axiosBase = setup({\r\n  axios,\r\n  baseURL: baseUrl,\r\n  timeout: 5000,\r\n  validateStatus: function () {\r\n    return true;\r\n  },\r\n  cache: {\r\n    maxAge: 1000,\r\n  },\r\n});\r\n\r\nexport const get = async (path, opt) => {\r\n  let header = {};\r\n  try {\r\n    if (opt?.cache) {\r\n      header.cache = {\r\n        maxAge: 10 * 60 * 1000,\r\n      };\r\n    }\r\n    const res = await axiosBase.get(path, header);\r\n    const { data } = await res;\r\n    return data;\r\n  } catch (error) {\r\n    window.postMessage({ notify: [\"error\", \"try-later\"] }, \"*\");\r\n    return await 0;\r\n  }\r\n};\r\n\r\nexport const post = async (path, items, opt) => {\r\n  let header = {};\r\n  try {\r\n    if (opt?.cache) {\r\n      header.cache = {\r\n        maxAge: 10 * 60 * 1000,\r\n      };\r\n    }\r\n    let form = new FormData();\r\n    for (let key in items) {\r\n      form.append(key, items[key]);\r\n    }\r\n    const res = axiosBase.post(path, form, header);\r\n    const { data } = await res;\r\n    if (data?.login) {\r\n      window.postMessage({ login: true }, \"*\");\r\n    }\r\n    return data;\r\n  } catch (error) {\r\n    window.postMessage({ notify: [\"error\", \"try-later\"] }, \"*\");\r\n    return await 0;\r\n  }\r\n};\r\n\r\nexport default { get, post };\r\n","import React from \"react\";\r\nimport { t } from \"locales\";\r\nexport default function ({ title, icon }) {\r\n  return (\r\n    <div className=\"page-header\">\r\n      <h3 className=\"page-title\">\r\n        <span className=\"page-title-icon bg-gradient-primary text-black mr-2\">\r\n          <i className={\"mdi \" + icon}></i>\r\n        </span>{\" \"}\r\n        {t(title)}{\" \"}\r\n      </h3>\r\n      <nav aria-label=\"breadcrumb\">\r\n        <ul className=\"breadcrumb\">\r\n          <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n            <span></span>{\" \"}\r\n            <i className=\"mdi mdi-alert-circle-outline icon-sm text-primary align-middle\"></i>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function ({ title, text }) {\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col-12 mb-3\">\r\n        <div className=\"card card-warning\">\r\n          <div className=\"card-body\">\r\n            <div className=\"container text-center\">\r\n              {title && <h3 className=\"mb-3\">{title}</h3>}\r\n              {text && <span className=\"mx-auto\">{text}</span>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import TimeAgo from \"javascript-time-ago\";\r\nimport fa from \"javascript-time-ago/locale/fa\";\r\nimport en from \"javascript-time-ago/locale/en\";\r\nimport ar from \"javascript-time-ago/locale/ar\";\r\nimport tr from \"javascript-time-ago/locale/tr\";\r\n\r\nimport useStorage from \"reducer\";\r\n\r\nexport default function useTimeAgo() {\r\n  const {\r\n    setting: { lang },\r\n  } = useStorage();\r\n  TimeAgo.addLocale(fa);\r\n  TimeAgo.addLocale(en);\r\n  TimeAgo.addLocale(ar);\r\n  TimeAgo.addLocale(tr);\r\n  return new TimeAgo(lang);\r\n}\r\n"],"sourceRoot":""}